{
    "id": "details-edit.1",
    "type": "object",
    
    "properties": {

        "required-document-state-default" : {

            "type": "array",

            "description" : "Array of objects that links a document state to a set of required default values.",
            
            "items": {

                "type" : "object",

                "description" : "Object that links a document state to a set of required values.",

                "properties" : {
                    
                    "fields" : {

                        "type" : "array",

                        "description" : "Array of schema fields that are required by default.",

                        "items" : {

                            "type" : { "$ref" : "core/schema-field.1" },

                            "description" : "The required schema field."
                        
                        }
                    },

                    "document-state" : {
                        
                        "type" : { "$ref" : "core/document-state.1" },

                        "description" : "The document state that triggers these required fields."

                    }
                }
            }
        },

        "required-user-role-override" : {

            "type": "array",

            "description" : "Array of objects that link a document state to a set of required fields, with the addition of a user role (overrides 'required-document-state-default')",
            
            "items": {

                "type" : "object",

                "description" : "Links a document state to a set of required fields and a user role.",

                "properties" : {
                    
                    "fields" : {

                        "type" : "array",

                        "description" : "Array of schema fields that are required for a given document-state and user-role.",

                        "items" : {

                            "type" : { "$ref" : "core/schema-field.1" },

                            "description" : "The required schema field."

                        }
                    },

                    "document-state" : {
                        
                        "type" : { "$ref" : "core/document-state.1" },

                        "description" : "The state of the the document that triggers these required fields.",

                    },

                    "user-role" : {
                        
                        "type" : { "$ref" : "core/user-role.1" },

                        "description" : "The user role that triggers these required fields."

                    }
                }
            }
        }
    }
}

/*
EXAMPLE
{
    "required-document-state-default": [
        {
            "fields" : [{
                "value" : "path.to.schema.value"
            },{
                "value" : "other.path.to.schema.value"
            }],

            "document-state" : {
                "value" : "new"
            }
        },

        {
            "fields" : [{
                "value" : "path.to.schema.value"
            },{
                "value" : "other.path.to.schema.value"
            }],

            "document-state" : {
                "value" : "pending"
            }
        }
    ],

    "required-user-role-override": [
        {
            "fields" : [{
                "value" : "path.to.schema.value"
            },{
                "value" : "other.path.to.schema.value"
            }],

            "document-state" : {
                "value" : "new"
            },

            "user-role" : {
                "value" : "editor"
            }
        }
    ]
}
*/